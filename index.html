<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Wryan</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="I am already a demon!">
<meta property="og:type" content="website">
<meta property="og:title" content="Wryan">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Wryan">
<meta property="og:description" content="I am already a demon!">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Wryan">
<meta name="twitter:description" content="I am already a demon!">
  
    <link rel="alternative" href="/atom.xml" title="Wryan" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://lohas.nicoseiga.jp/thumb/893823i?" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">WayYoung</a></h1>
		</hgroup>

		
		<p class="header-subtitle">I am the one who codes!</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>標籤</li>
						
						<li>友情链接</li>
						
						
						<li>關於</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">Home</a></li>
				        
							<li><a href="/archives">Archives</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/Bloodborne" title="github">github</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Interview/" style="font-size: 15px;">Interview</a> <a href="/tags/Life/" style="font-size: 20px;">Life</a> <a href="/tags/development/" style="font-size: 10px;">development</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/工作/" style="font-size: 10px;">工作</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://www.google.com/">G</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">哦列哇刚大木！</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">WayYoung</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="http://lohas.nicoseiga.jp/thumb/893823i?" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">WayYoung</h1>
			</hgroup>
			
			<p class="header-subtitle">I am the one who codes!</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">Home</a></li>
		        
					<li><a href="/archives">Archives</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/Bloodborne" title="github">github</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <article id="post-再不再见" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/12/25/再不再见/" class="article-date">
  	<time datetime="2017-12-25T14:51:40.000Z" itemprop="datePublished">2017-12-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/25/再不再见/">再不再见</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>“说过再见 告别在熟悉的小街角 相识的老地方”  </p>
<p>互相道别后，我终究乘上了那辆公交，消失在名为未来的道路上。  </p>
<p>其实作为浪漫主义的表现，是应该目送他离开之后，再独自启程的。然而现实就是如此，不完全遵循计划…  </p>
<p>圣诞节了，看着窗外，不禁感叹：又到了白色相簿的季节了…  </p>
<p>这个季节，特别容易让人伤感…  </p>
<p>三天前，22号，比我晚入职一周的同事离职了。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Life/">Life</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-智龙迷城弃坑的第二天" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/12/19/智龙迷城弃坑的第二天/" class="article-date">
  	<time datetime="2016-12-19T14:16:54.000Z" itemprop="datePublished">2016-12-19</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/19/智龙迷城弃坑的第二天/">智龙迷城弃坑的第二天</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&emsp;&emsp;智龙迷城弃坑的第二天，想它…<br>&emsp;&emsp;今年2.22日，在高中同学聚会上，我入坑了。前天12月17日，将近十个月后，我作出了这个艰难的决定——退坑。<br>&emsp;&emsp;说实话，确实是有点肝不动了这游戏…自入坑的第一天起，到退坑的前几天，保持每天上线的记录。还是萌新的时候，冲级，刷火奶，再到后来的练满三只木宙斯，刷mp，米露练技…还是摆脱不了刷刷刷的模式…累了，肝不动了，虽说为这游戏倾注了很多心血，但是长痛不如短痛…<br>&emsp;&emsp;把这号赠给基友Aran君时，他还苦口婆心的说暂时帮我保管着先，等着我以后回归…我十分感动，然而我拒绝回归…<br>&emsp;&emsp;An interesting fact : 入坑时，抽的第一发合作桶是bleach，退坑时还是它…<br>&emsp;&emsp;One more thing : Tim Duncan 今天举行了球衣退役仪式…So sad…</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Life/">Life</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-macOS-10-11-使用rvm安装ruby失败的解决方法" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/12/11/macOS-10-11-使用rvm安装ruby失败的解决方法/" class="article-date">
  	<time datetime="2016-12-11T15:50:41.000Z" itemprop="datePublished">2016-12-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/11/macOS-10-11-使用rvm安装ruby失败的解决方法/">macOS 10.11 使用rvm安装ruby失败的解决方法</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>大概是 Xcode Command Lines Tools 版本太低导致的…在终端里执行一下 <code>xcode-select install</code> 更新Xcode命令行工具，之后就能愉快的执行 <code>rvm install 2.3</code>了…</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/development/">development</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-UIImage的内存泄露" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/11/21/UIImage的内存泄露/" class="article-date">
  	<time datetime="2016-11-21T13:29:06.000Z" itemprop="datePublished">2016-11-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/21/UIImage的内存泄露/">UIImage的内存泄露</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>之前写了一个简单UIImageView测试，发现UIImageView所在的ViewController被 push,pop 了几次之后，内存有增无减，应该是内存泄露了。在dealloc里手动将UIImage设nil、或添加了@autoreleasePool还是不起效。最终还是要拜托google…</p>
<blockquote>
<p><a href="http://stackoverflow.com/questions/19437285/uiimage-imagenamed-memory-leak" target="_blank" rel="external">http://stackoverflow.com/questions/19437285/uiimage-imagenamed-memory-leak</a>  </p>
</blockquote>
<p><code>[UIImage imageNamed:]</code>初始化的图片会有缓存，由操作系统管理。若有大量的图片，应该使用<code>[UIImage imageWithContentsOfFile:]</code> or <code>[UIImage imageWithData:]</code></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-kira想要平静的生活" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/31/kira想要平静的生活/" class="article-date">
  	<time datetime="2016-08-31T13:38:54.000Z" itemprop="datePublished">2016-08-31</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/31/kira想要平静的生活/">kira想要平静的生活</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>明天就是九月份了…过去这几周感觉像条咸鱼一样，有点闲。心里有很多想法，不过也只是想想而已，最终还是被惰性占据了身心。to be continued…</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Life/">Life</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-turn-a-new-page" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/10/turn-a-new-page/" class="article-date">
  	<time datetime="2016-07-10T04:11:22.000Z" itemprop="datePublished">2016-07-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/10/turn-a-new-page/">萌新异闻录</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&emsp;&emsp;最近一直在loop 沙龙和黄金时代（釗峰版），有感而发想写些东西记录一下平凡而又不平凡的六月…  </p>
<ul>
<li><p>端午节基友集结大作战。可惜蒙牛星没有空…一大早直奔零式家打血缘！这是第二次摸ps4手柄(不算手柄V)，第一次是在前一个星期，组长邀请我到他家打黑魂3！<br><img src="http://7xq2i8.com1.z0.glb.clouddn.com/2016_06_thumb_IMG_0415_1024.jpg" alt="DS3"><br>我的抖M之魂熊熊燃烧着~在一群老司机的招待下，作为乘客我感到相当的满足，so awesome~ 因此晚上吃完饭不好意思说出我要回家(回家最晚一班车在七点半)…晚饭后继续回到零式家happy~有玩屁股先锋的，也有玩4公主的，而我当然是血战bloodborne。血缘虐我千百遍，我待血缘如初恋…经过一个多小时的鏖战，终于击败第一个boss神父了…得知我无法赶上最后一班车，老司机零式邀请我在他家过夜。第二次在零式家过夜，好基友，一被子~<br><img src="http://7xq2i8.com1.z0.glb.clouddn.com/2016_06_thumb_IMG_0428_1024.jpg" alt=""></p>
</li>
<li><p>省内游。感觉玩得没有太尽兴，虽然本来就没有抱什么期待…时隔多年再次拾起乒乓球拍，回忆起童年时和细佬每个周末大战300回合的时光…然而当晚还没热够身就去泡温泉去了。总算试过泡温泉的感觉了…一段时间之内不会再想泡了，实在太无聊= =这两天逛了个森林公园，田野绿世界和宝晶宫溶洞，并不感觉累，反而长时间的车程让人疲倦…</p>
</li>
<li>省内游结束的第二天回学校领取毕业证和清宿舍…无法与舍友同学道别始终有点遗憾…四年时光，不知不觉，逝水流年…不知下一次相聚是什么时候，在什么场合…</li>
<li>Steam夏季促销。还是管不住这手，别说话，买了再说…<br><img src="http://7xq2i8.com1.z0.glb.clouddn.com/2016_06_SteamBuy1.png" alt="steam1"><br><img src="http://7xq2i8.com1.z0.glb.clouddn.com/2016_06_SteamBuy2.png" alt="steam2"><br><img src="http://7xq2i8.com1.z0.glb.clouddn.com/2016_06_SteamBuy3.png" alt="steam3"><br>讲道理300块能买这么多游戏，简直是超值。不过前几天说要发售巫师3年度版，现在想想当时买的时候还是有点冲动的，因为电脑跑不起…</li>
<li>年轻人的第一个项目。维护一个经过3个人接手过的项目，而我是第四手…在该项目将要上线之际，希望不会遇到太大问题…</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Life/">Life</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Life-is-Strange" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/16/Life-is-Strange/" class="article-date">
  	<time datetime="2016-05-16T14:36:01.000Z" itemprop="datePublished">2016-05-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/16/Life-is-Strange/">Life is Strange</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&emsp;&emsp;工作一个月了，感觉没有预想中的忙碌，只是做做练习罢了。起初写了很多吐槽的话，不过还是删了…留下最想吐槽的一条，不是禁网，而是有一位同事被劝退了…想不到入职不到一个月就目睹这么残酷的事情…为什么是他被劝退…想起第一天入职的时候，还是他耐心的给我讲解公司内部平台的事情，觉得他工作认真负责，恪守敬业，被劝退还是这么的乐观放松…换作是我的话，肯定会无法接受…这就是人生吧？凡是不能将我击倒的，必定使我更坚强。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Life/">Life</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-UICollectionViewCell在iOS7下size不正确的原因" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/04/25/UICollectionViewCell在iOS7下size不正确的原因/" class="article-date">
  	<time datetime="2016-04-25T13:46:42.000Z" itemprop="datePublished">2016-04-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/25/UICollectionViewCell在iOS7下size不正确的原因/">UICollectionViewCell在iOS7下size不正确的原因</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&emsp;&emsp;本来标题是想起“工作一周总结”的，后来想了想，好像也没干什么特别的。by the way，本来这篇东西应该是在上周末写的，但是回了学校参加毕业论文答辩，忙（懒）成狗，因此拖到现在……<br>&emsp;&emsp;工作没有想象中的那么忙，只是做一些demo练习。令我感到意外的是，我好像真的要成为一位搬砖的oO…<br>&emsp;&emsp;言归正传，当使用iOS8或以上的SDK创建好UICollectionViewCell，在iOS7上运行时cell的size就会变得非常奇葩。原因是:</p>
<blockquote>
<p>In iOS 7, cells’ content views sized themselves via autoresizing masks. In iOS 8, this was changed, cells stopped using the autoresizing masks and started sizing the content view in layoutSubviews. If a nib is encoded in iOS 8 and then decode it on iOS 7, you’ll have a content view without an autoresizing mask and no other means by which to size itself. So if you ever change the frame of the cell, the content view won’t follow.</p>
<p>Apps being deploying back to iOS 7 will have to work around this by sizing the content view itself, adding autoresizing masks, or adding constraints.  </p>
</blockquote>
<p>&emsp;&emsp;在iOS7,cell 的 content view 通过 autoresizing masks 确定自己的尺寸。但是在 iOS8 ，却是在 layoutSubviews 中。因此就导致了悲剧的发生…<br>&emsp;&emsp;解决方案为在cell中重写:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="keyword">void</span>)awakeFromNib</span><br><span class="line">&#123;</span><br><span class="line">   [<span class="keyword">super</span> awakeFromNib];</span><br><span class="line">   <span class="keyword">self</span><span class="variable">.contentView</span><span class="variable">.frame</span> = <span class="keyword">self</span><span class="variable">.bounds</span>;</span><br><span class="line">   <span class="keyword">self</span><span class="variable">.contentView</span><span class="variable">.autoresizingMask</span> = <span class="built_in">UIViewAutoresizingFlexibleWidth</span> | <span class="built_in">UIViewAutoresizingFlexibleHeight</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/工作/">工作</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-iOS后台模式的发展史" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/29/iOS后台模式的发展史/" class="article-date">
  	<time datetime="2016-03-29T15:27:31.000Z" itemprop="datePublished">2016-03-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/29/iOS后台模式的发展史/">iOS后台模式的发展史</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>以下内容来自度娘  </p>
<blockquote>
<p>第一代iPhone 除了支持Google Earth和Youtube外这两个第三方APP外，还不支持第三方APP，随后第二代iPhone 3G发布时，苹果发布了iPhone OS 2.0系统，提供了APP Store应用软件商店，此时可以安装第三方软件了，这时第三方软件获取消息的方式为无后台仅推送。iPhone OS 3.0则为开发者提供了更多的API（应用程序接口），可让开发者开发功能更强的应用程序，但此时的iPhone OS还不支持第三方软件常驻后台，而且软件越来越多，从一个软件切换到另一个软件也麻烦。所以苹果推出了iOS 4.0（iPhone OS 正式更名iOS），实现第三方程序常驻后台，支持第三方软件墓碑式(假后台)，只为方便切换，这也是让广大喷子喷到今天的 “第三方软件假后台”！  </p>
<p>既iOS 4带来了第三方软件假后台后，iOS 5又多了2种第三方软件后台模式，达到了4种。  </p>
<ol>
<li>无后台仅推送（iPhone OS 1.0/ iPhone OS 2.0/ iPhone OS 3.0）  </li>
<li>墓碑式(假后台)(iOS 4.0)  </li>
<li>智能调度后台(定时启动更新，像新闻APPS，更新完数据就进入墓碑式)(iOS 5.0/iOS 5.0+)  </li>
<li>真后台(iOS 5.0/iOS 5.0+)  </li>
</ol>
<p>到今天，iOS 支持的第三方软件后台调用的API有这些： </p>
<ol>
<li>Background Audio，这是后台的音频，很早之前便有，也是iOS设备中用得最多的后台应用，调用这个接口可以实现后台的音乐播放。  </li>
<li>Location Services，这是后台的定位，系统会拥有统一页面进行管理。  </li>
<li>VoIP，后台语音服务，类似Skype通话应用需要调用，可进行后台的语音通话。  </li>
<li>Newsstand，报刊杂志后台自动下载更新，其能够自动实时更新。  </li>
<li>Background Task Completion，这个接口早在iOS 4时候便拥有，其可以供任意类型的APP使用，不过在旧系统中，这个接口的后台限制运行时间仅为10分钟，意味着当应用退至后台，其后台运行仅能持续10分钟便会转至休眠状态。iOS 7中对这个接口作出了改变，原来的为连续10分钟，即不论你这10分钟内用户是否关闭屏幕进入休眠状态，应用仍然会在后台等待10分钟完结后推出。  </li>
<li>Remote Notification(IOS7)，以往聊天类应用接受推送后点进去需要再收一次信息，这情况在QQ、微信等应用上最为明显。不过拥有了这个接口后，这情况将不复存在，以后推送将能够直接启动后台任务。值得注意的是remote notification支持silent notification（静默推送），这样dropbox这类同步应用可以在后台以最节能的模式实时静默同步了，类似布卡漫画这种也可以推送正在追的漫画的新章节并在后台静默下载，待到下载好再给用户发送一个本地推送，用户点开即看无需再联网。  </li>
<li>Background Transfer Service，后台上传下载。iOS最接近传统多任务的后台接口，可供任意类型的app调用，无时间限制。应用场景包括后台上传和下载数据，这使得游戏后台更新数据包，后台上传视频等等都成为可能，但是正如其名字，它只能用于处理上传下载这种传输类的任务，类似后台剪切板监控这种它就无能为力了。  </li>
</ol>
</blockquote>
<hr>
<blockquote>
<p>ios7前的一般程序多任务处理：<br><img src="http://7xq2i8.com1.z0.glb.clouddn.com/beforeiOS7.jpg" alt="beforeiOS7"><br>可以看到，应用其实有十分钟后台的权利<br>除此之外还有两种所谓的伪后台，一种是系统推送机制，另一种是墓碑式后台（在关闭程序时保存现场，下次启动时还原，给人一种后台的假象）<br>ios7之后（一个app可以混合调用多种模式）：<br><img src="http://7xq2i8.com1.z0.glb.clouddn.com/afteriOS7.jpg" alt="afteriOS7">  </p>
<p>Background Audio，VoIP属于不后台会死的类型；Location Services是地点服务，系统统一管理；Newsstand是苹果自家应用，定时更新。这些都是早就有，没变化。<br><br><br>Background Task Completion<br>ios4中开始加入的限时后台，允许应用连续后台十分钟，ios7改为允许在开屏下运行十分钟，关屏会暂停，直到开屏后重启继续凑足十分种。<br><br><br>Background Fetch<br>ios7新增，在系统认为合适的时候激活应用，具体什么时候合适，开发者不可知，使用者不可控，由系统智能判断，适合获取及时性不强的信息<br>这个智能体现在系统会根据用户启动应用的频率和时间以及当前的网络和电量情况来分配每个应用的获取频率和时间，数据刷新是统一的，即系统可以在一个进程内获取多个应用所需的数据而不是一个应用一个进程（类似统一的推送机制，都是为了省电）<br>统一刷新这方面有点类似小米说的对齐唤醒和Deep Sleep Battery Saver，不同应用后台唤醒时刻不同会导致cpu无法进入deep sleep，某些Android用户会发现自己的手机一夜掉电超多，其实就是某些糟糕的app让cpu没睡好：-）<br><br><br>Remote Notification<br>ios7新增，由统一推送通知激活后台，支持silent notification，适合实时类强的应用，有频率限制（每小时几次）<br><br><br>Background Transfer Service<br>ios7新增，可以由应用直接激活的无限制后台，权限大，但是只限于下载上传类服务，只会在 WiFi 环境下才进行传输<br>需要特别注意的是：应用被Background Fetch、Remote Notification、Background Transfer Service三类唤醒时，只被给予几秒钟时间来处理更新。  </p>
</blockquote>
<p>总结一下：iOS从来都是有限制的后台，iOS7开放了部分机制。说真假后台毫无意义，必须具体问题具体讨论。<br><br><br>update:应用状态图表<br><img src="http://7xq2i8.com1.z0.glb.clouddn.com/ApplicationStates.png" alt="Application states"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Interview/">Interview</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-真后台vs假后台" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/29/真后台vs假后台/" class="article-date">
  	<time datetime="2016-03-29T15:25:12.000Z" itemprop="datePublished">2016-03-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/29/真后台vs假后台/">真后台vs假后台</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在quora上查到这么一个问题</p>
<p><a href="/What are the differences between Android and iOS in multitasking?">What are the differences between Android and iOS in multitasking?</a>  </p>
<p>其中一个回答:</p>
<blockquote>
<p>The multitasking implementation on Android allows any program to run in the background, for as long as it wants.  An application can run as a service, completely in the background.  An application can run at startup, on a schedule, based on events, or continue running after started by the user.  While running in the background, an Android app can do anything it has been given permission to do.</p>
<p>iOS does not allow true multitasking for third party apps.  iOS only allows certain APIs to run in the background, such as audio streaming and push notifications.  An app stops running the instant the user switches to another app.  Apple gives their own apps multitasking abilities that other apps are not allowed to use, which can cause confusion on this topic.</p>
<p>iOS’ strict control of multitasking this has a couple of benefits.  First, battery life is greatly improved, because apps aren’t running in the background, and because app creators often have to run functionality in a server and utilize push notifications from that server for functionality that might have been easier to implement in the mobile app.  Secondly, interactive user interfaces are never impacted by apps running in the background, leading to the superior smoothness of iOS.</p>
</blockquote>
<p>安卓是真后台，所有程序都能在后台运行任意长的时间，做任何事情。<br>iOS没有真正允许第三方的app进行多任务，只允许特定的api在后台运行，例如音频流和推送通知。用户从一个app切换到另外一个app的时候，之前的那个app会马上停止运行。iOS这样严格控制多任务的好处有：  </p>
<ol>
<li>极大提高电池寿命，因为apps没有在后台一直运行;  </li>
<li>UI交互不会受到在后台运行的apps的影响，因此系统如丝滑般顺畅。  </li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Interview/">Interview</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 WayYoung
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>




    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>